# Взлом электронного дневника 

Это приложение содержит в себе функции для взлома и изменения содержания определенного электронного дневника

Программа работает совместно с [Электронным дневником школы.](https://github.com/devmanorg/e-diary/tree/master#%D1%8D%D0%BB%D0%B5%D0%BA%D1%82%D1%80%D0%BE%D0%BD%D0%BD%D1%8B%D0%B9-%D0%B4%D0%BD%D0%B5%D0%B2%D0%BD%D0%B8%D0%BA-%D1%88%D0%BA%D0%BE%D0%BB%D1%8B)
Для работы потребуется база данных дневника.

### Как установить

Python 3.10 и выше должен быть уже установлен. Затем используйте pip (или pip3, есть конфликт с Python2) для установки зависимостей:

```
pip install -r requirements.txt
```

## Как работает

Скрипт выполняет три основных действия:

### 1. **Исправление оценок**
Находит все оценки ученика, которые ниже 4 (`points__lt=4`), и заменяет их на пятёрки с помощью `update()` — быстро и без лишних запросов к базе.

### 2. **Удаление замечаний**
Удаляет все записи вида "Замечание" из дневника ученика. Это делается через фильтр по `schoolkid` и метод `delete()`.

### 3. **Добавление похвалы**
- Находит последний урок по указанному предмету (с помощью `order_by('-date')`).
- Создаёт новую запись `Commendation` с:
  - Случайным текстом из списка похвал.
  - Датой урока.
  - Предметом и учителем, ведущим этот урок.

**Поиск ученика**:
- По ФИО (или его части) с поддержкой **регистронезависимого поиска** (`icontains`).
- Если найдено несколько учеников — скрипт остановится и попросит уточнить имя.
- Если ученик не найден — выведет понятное сообщение.

---

### Примеры использования

Для использования потребуется положить файл БД дневника в директорию со скриптом.
Для запуска скриптов на windows:
- откройте командную строку.
- перейдите в директорию со скриптом
- используйте команду `python manage.py shell` для запуска Django shell
- импортируйте скрипты командой `from scripts import fix_marks, remove_chastisements, create_commendation`
- запустите скрипт, введя его название и необходиые аргументы, например:
  + Команда `fix_marks("Иван Фролов")` исправит все плохие оценки у Ивана Фролова
  + Команда `remove_chastisements("Иван Фролов")` удалит все замечания, адресованные Ивану Фролову
  + Команда `create_commendation("Иван Фролов", "Музыка", "Молодец!")` добавит похвалу Ивану Фролову за урок музыки

### Цель проекта
Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org]("https://dvmn.org/modules/").
